<UserControl x:Class="WpfK.Views.OneWayBindingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
        <Grid Margin="10" MinWidth="600">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0"
                   Text="Односторонние привязки (OneWay Binding)"
                   FontSize="18"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Foreground="#FF0066CC"
                   Margin="0,0,0,20" />

        <!-- Пример OneWay привязки -->
        <Border Grid.Row="1"
                Background="White"
                CornerRadius="8"
                BorderBrush="#FF0066CC"
                BorderThickness="2"
                Margin="10"
                Padding="20">
            <StackPanel>
                <TextBlock Text="Пример OneWay привязки (ViewModel → UI):"
                           FontWeight="Bold"
                           FontSize="14"
                           Foreground="#FF0066CC"
                           Margin="0,0,0,10" />

                <TextBlock Text="Текущее время (обновляется из ViewModel каждую секунду):"
                           Margin="0,0,0,10"
                           FontWeight="SemiBold" />

                <Border Background="#E6F3FF"
                        Padding="20"
                        CornerRadius="8"
                        BorderBrush="#FF0066CC"
                        BorderThickness="2">
                    <TextBlock Text="{Binding CurrentTime, StringFormat='HH:mm:ss'}"
                               FontSize="32"
                               FontWeight="Bold"
                               Foreground="#FF0066CC"
                               HorizontalAlignment="Center" />
                </Border>

                <TextBlock Text="Таймер работает в ViewModel и обновляет свойство CurrentTime"
                           FontStyle="Italic"
                           Margin="0,15,0,0"
                           TextWrapping="Wrap"
                           Foreground="#FF666666" />
            </StackPanel>
        </Border>

        <!-- Пример OneWayToSource привязки -->
        <Border Grid.Row="2"
                Background="White"
                CornerRadius="8"
                BorderBrush="#FF9933CC"
                BorderThickness="2"
                Margin="10"
                Padding="20">
            <StackPanel>
                <TextBlock Text="Пример OneWayToSource привязки (UI → ViewModel):"
                           FontWeight="Bold"
                           FontSize="14"
                           Foreground="#FF9933CC"
                           Margin="0,0,0,10" />

                <TextBlock Text="Изменения в UI обновляют ViewModel, но не наоборот:"
                           Margin="0,0,0,10"
                           FontWeight="SemiBold" />

                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="Введите текст:"
                               Width="150"
                               VerticalAlignment="Center"
                               FontWeight="SemiBold" />
                    <TextBox Text="{Binding OneWayToSourceText, Mode=OneWayToSource}"
                             Width="300"
                             Margin="5"
                             Padding="10"
                             BorderBrush="#FF9933CC"
                             BorderThickness="1"
                             FontSize="14" />
                </StackPanel>

                <TextBlock Text="Значение в ViewModel (отображается через OneWay):"
                           Margin="0,0,0,10"
                           FontWeight="SemiBold" />

                <Border Background="#F8F0FF"
                        Padding="15"
                        CornerRadius="5"
                        BorderBrush="#FF9933CC"
                        BorderThickness="1">
                    <TextBlock Text="{Binding OneWayToSourceText}"
                               FontWeight="Bold"
                               FontSize="16"
                               Foreground="#FF9933CC" />
                </Border>

                <Button Content="Показать значение из ViewModel"
                        Command="{Binding ShowOneWayToSourceCommand}"
                        Width="250"
                        Margin="0,15,0,0"
                        Padding="10,6"
                        Background="#FF9933CC"
                        Foreground="White"
                        FontWeight="Bold"
                        BorderThickness="0"
                        Cursor="Hand" />
            </StackPanel>
        </Border>

        <!-- Пример прямой привязки OneWay -->
        <Border Grid.Row="3"
                Background="White"
                CornerRadius="8"
                BorderBrush="#FF009933"
                BorderThickness="2"
                Margin="10"
                Padding="20">
            <StackPanel>
                <TextBlock Text="Пример прямой OneWay привязки (ElementName):"
                           FontWeight="Bold"
                           FontSize="14"
                           Foreground="#FF009933"
                           Margin="0,0,0,10" />

                <TextBlock Text="Изменения в Slider напрямую обновляют TextBlock (без ViewModel):"
                           Margin="0,0,0,15"
                           FontWeight="SemiBold" />

                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="Значение:"
                               Width="100"
                               VerticalAlignment="Center"
                               FontWeight="SemiBold" />
                    <Slider x:Name="DirectSlider"
                            Value="50"
                            Minimum="0"
                            Maximum="100"
                            Width="250"
                            Height="30"
                            Margin="5" />
                </StackPanel>

                <Border Background="#F0FFF0"
                        Padding="15"
                        CornerRadius="5"
                        BorderBrush="#FF009933"
                        BorderThickness="1">
                    <TextBlock Text="{Binding Value, ElementName=DirectSlider, StringFormat={}{0:F1}%}"
                               FontWeight="Bold"
                               FontSize="18"
                               Foreground="#FF009933"
                               HorizontalAlignment="Center" />
                </Border>
            </StackPanel>
        </Border>

        <!-- Сравнение привязок -->
        <Border Grid.Row="4"
                Background="#FFF8F8F8"
                CornerRadius="8"
                BorderBrush="#FF666666"
                BorderThickness="2"
                Margin="10"
                Padding="20">
            <StackPanel>
                <TextBlock Text="Сравнение типов привязок:"
                           FontWeight="Bold"
                           FontSize="16"
                           Margin="0,0,0,15" />

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0"
                            Background="White"
                            CornerRadius="5"
                            BorderBrush="#FF0066CC"
                            BorderThickness="1"
                            Margin="5"
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="OneWay"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       Foreground="#FF0066CC"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,10" />
                            <TextBlock Text="ViewModel → UI"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,5"
                                       FontWeight="SemiBold" />
                            <TextBlock Text="Только чтение"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,5" />
                            <TextBlock Text="Пример: TextBlock"
                                       HorizontalAlignment="Center"
                                       FontStyle="Italic" />
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="1"
                            Background="White"
                            CornerRadius="5"
                            BorderBrush="#FF9933CC"
                            BorderThickness="1"
                            Margin="5"
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="OneWayToSource"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       Foreground="#FF9933CC"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,10" />
                            <TextBlock Text="UI → ViewModel"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,5"
                                       FontWeight="SemiBold" />
                            <TextBlock Text="Только запись"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,5" />
                            <TextBlock Text="Редко используется"
                                       HorizontalAlignment="Center"
                                       FontStyle="Italic" />
                        </StackPanel>
                    </Border>

                    <Border Grid.Column="2"
                            Background="White"
                            CornerRadius="5"
                            BorderBrush="#FF009933"
                            BorderThickness="1"
                            Margin="5"
                            Padding="15">
                        <StackPanel>
                            <TextBlock Text="TwoWay"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       Foreground="#FF009933"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,10" />
                            <TextBlock Text="ViewModel ↔ UI"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,5"
                                       FontWeight="SemiBold" />
                            <TextBlock Text="Чтение/запись"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,5" />
                            <TextBlock Text="Пример: TextBox"
                                       HorizontalAlignment="Center"
                                       FontStyle="Italic" />
                        </StackPanel>
                    </Border>
                </Grid>
            </StackPanel>
        </Border>
    </Grid>
    </ScrollViewer>
</UserControl>
